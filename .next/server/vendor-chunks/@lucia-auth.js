"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@lucia-auth";
exports.ids = ["vendor-chunks/@lucia-auth"];
exports.modules = {

/***/ "(rsc)/./node_modules/@lucia-auth/adapter-prisma/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@lucia-auth/adapter-prisma/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrismaAdapter: () => (/* binding */ PrismaAdapter)\n/* harmony export */ });\nclass PrismaAdapter {\n    sessionModel;\n    userModel;\n    constructor(sessionModel, userModel) {\n        this.sessionModel = sessionModel;\n        this.userModel = userModel;\n    }\n    async deleteSession(sessionId) {\n        try {\n            await this.sessionModel.delete({\n                where: {\n                    id: sessionId\n                }\n            });\n        }\n        catch {\n            // ignore if session id is invalid\n        }\n    }\n    async deleteUserSessions(userId) {\n        await this.sessionModel.deleteMany({\n            where: {\n                userId\n            }\n        });\n    }\n    async getSessionAndUser(sessionId) {\n        const userModelKey = this.userModel.name[0].toLowerCase() + this.userModel.name.slice(1);\n        const result = await this.sessionModel.findUnique({\n            where: {\n                id: sessionId\n            },\n            include: {\n                [userModelKey]: true\n            }\n        });\n        if (!result)\n            return [null, null];\n        const userResult = result[userModelKey];\n        delete result[userModelKey];\n        return [transformIntoDatabaseSession(result), transformIntoDatabaseUser(userResult)];\n    }\n    async getUserSessions(userId) {\n        const result = await this.sessionModel.findMany({\n            where: {\n                userId\n            }\n        });\n        return result.map(transformIntoDatabaseSession);\n    }\n    async setSession(value) {\n        await this.sessionModel.create({\n            data: {\n                id: value.id,\n                userId: value.userId,\n                expiresAt: value.expiresAt,\n                ...value.attributes\n            }\n        });\n    }\n    async updateSessionExpiration(sessionId, expiresAt) {\n        await this.sessionModel.update({\n            where: {\n                id: sessionId\n            },\n            data: {\n                expiresAt\n            }\n        });\n    }\n    async deleteExpiredSessions() {\n        await this.sessionModel.deleteMany({\n            where: {\n                expiresAt: {\n                    lte: new Date()\n                }\n            }\n        });\n    }\n}\nfunction transformIntoDatabaseSession(raw) {\n    const { id, userId, expiresAt, ...attributes } = raw;\n    return {\n        id,\n        userId,\n        expiresAt,\n        attributes\n    };\n}\nfunction transformIntoDatabaseUser(raw) {\n    const { id, ...attributes } = raw;\n    return {\n        id,\n        attributes\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGx1Y2lhLWF1dGgvYWRhcHRlci1wcmlzbWEvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTUtc29jaWFsLW1lZGlhLWFwcC8uL25vZGVfbW9kdWxlcy9AbHVjaWEtYXV0aC9hZGFwdGVyLXByaXNtYS9kaXN0L2luZGV4LmpzPzdkNzYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFByaXNtYUFkYXB0ZXIge1xuICAgIHNlc3Npb25Nb2RlbDtcbiAgICB1c2VyTW9kZWw7XG4gICAgY29uc3RydWN0b3Ioc2Vzc2lvbk1vZGVsLCB1c2VyTW9kZWwpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uTW9kZWwgPSBzZXNzaW9uTW9kZWw7XG4gICAgICAgIHRoaXMudXNlck1vZGVsID0gdXNlck1vZGVsO1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVTZXNzaW9uKHNlc3Npb25JZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uTW9kZWwuZGVsZXRlKHtcbiAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbklkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gaWdub3JlIGlmIHNlc3Npb24gaWQgaXMgaW52YWxpZFxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZVVzZXJTZXNzaW9ucyh1c2VySWQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXNzaW9uTW9kZWwuZGVsZXRlTWFueSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIHVzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0U2Vzc2lvbkFuZFVzZXIoc2Vzc2lvbklkKSB7XG4gICAgICAgIGNvbnN0IHVzZXJNb2RlbEtleSA9IHRoaXMudXNlck1vZGVsLm5hbWVbMF0udG9Mb3dlckNhc2UoKSArIHRoaXMudXNlck1vZGVsLm5hbWUuc2xpY2UoMSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2Vzc2lvbk1vZGVsLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbklkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgIFt1c2VyTW9kZWxLZXldOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3VsdClcbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgIGNvbnN0IHVzZXJSZXN1bHQgPSByZXN1bHRbdXNlck1vZGVsS2V5XTtcbiAgICAgICAgZGVsZXRlIHJlc3VsdFt1c2VyTW9kZWxLZXldO1xuICAgICAgICByZXR1cm4gW3RyYW5zZm9ybUludG9EYXRhYmFzZVNlc3Npb24ocmVzdWx0KSwgdHJhbnNmb3JtSW50b0RhdGFiYXNlVXNlcih1c2VyUmVzdWx0KV07XG4gICAgfVxuICAgIGFzeW5jIGdldFVzZXJTZXNzaW9ucyh1c2VySWQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXNzaW9uTW9kZWwuZmluZE1hbnkoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICB1c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubWFwKHRyYW5zZm9ybUludG9EYXRhYmFzZVNlc3Npb24pO1xuICAgIH1cbiAgICBhc3luYyBzZXRTZXNzaW9uKHZhbHVlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvbk1vZGVsLmNyZWF0ZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6IHZhbHVlLmlkLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogdmFsdWUudXNlcklkLFxuICAgICAgICAgICAgICAgIGV4cGlyZXNBdDogdmFsdWUuZXhwaXJlc0F0LFxuICAgICAgICAgICAgICAgIC4uLnZhbHVlLmF0dHJpYnV0ZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZVNlc3Npb25FeHBpcmF0aW9uKHNlc3Npb25JZCwgZXhwaXJlc0F0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvbk1vZGVsLnVwZGF0ZSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIGlkOiBzZXNzaW9uSWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBkZWxldGVFeHBpcmVkU2Vzc2lvbnMoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2Vzc2lvbk1vZGVsLmRlbGV0ZU1hbnkoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbHRlOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1JbnRvRGF0YWJhc2VTZXNzaW9uKHJhdykge1xuICAgIGNvbnN0IHsgaWQsIHVzZXJJZCwgZXhwaXJlc0F0LCAuLi5hdHRyaWJ1dGVzIH0gPSByYXc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgZXhwaXJlc0F0LFxuICAgICAgICBhdHRyaWJ1dGVzXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybUludG9EYXRhYmFzZVVzZXIocmF3KSB7XG4gICAgY29uc3QgeyBpZCwgLi4uYXR0cmlidXRlcyB9ID0gcmF3O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBhdHRyaWJ1dGVzXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@lucia-auth/adapter-prisma/dist/index.js\n");

/***/ })

};
;